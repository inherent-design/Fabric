{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "build",
            "type": "shell",
            "command": "mise",
            "args": ["run", "build"],
            "group": { "kind": "build", "isDefault": true },
            "problemMatcher": ["$gcc"],
            "detail": "Configure and build (Debug)"
        },
        {
            "label": "build:release",
            "type": "shell",
            "command": "mise",
            "args": ["run", "build:release"],
            "group": "build",
            "problemMatcher": ["$gcc"],
            "detail": "Configure and build (Release)"
        },
        {
            "label": "clean",
            "type": "shell",
            "command": "mise",
            "args": ["run", "clean"],
            "problemMatcher": [],
            "detail": "Remove build artifacts"
        },
        {
            "label": "test",
            "type": "shell",
            "command": "mise",
            "args": ["run", "test"],
            "group": { "kind": "test", "isDefault": true },
            "problemMatcher": ["$gcc"],
            "detail": "Run unit tests"
        },
        {
            "label": "test:all",
            "type": "shell",
            "command": "mise",
            "args": ["run", "test:all"],
            "group": "test",
            "problemMatcher": ["$gcc"],
            "detail": "Run unit + E2E tests"
        },
        {
            "label": "format",
            "type": "shell",
            "command": "mise",
            "args": ["run", "format"],
            "problemMatcher": [],
            "detail": "Check clang-format compliance"
        },
        {
            "label": "format:fix",
            "type": "shell",
            "command": "mise",
            "args": ["run", "format:fix"],
            "problemMatcher": [],
            "detail": "Auto-format all source files"
        },
        {
            "label": "lint",
            "type": "shell",
            "command": "mise",
            "args": ["run", "lint"],
            "problemMatcher": ["$gcc"],
            "detail": "Run clang-tidy on all source files"
        },
        {
            "label": "lint:changed",
            "type": "shell",
            "command": "mise",
            "args": ["run", "lint:changed"],
            "problemMatcher": ["$gcc"],
            "detail": "Run clang-tidy on git-dirty files only"
        },
        {
            "label": "lint:fix",
            "type": "shell",
            "command": "mise",
            "args": ["run", "lint:fix"],
            "problemMatcher": ["$gcc"],
            "detail": "Run clang-tidy with auto-fix"
        },
        {
            "label": "cppcheck",
            "type": "shell",
            "command": "mise",
            "args": ["run", "cppcheck"],
            "problemMatcher": ["$gcc"],
            "detail": "Run cppcheck static analysis"
        },
        {
            "label": "sanitize",
            "type": "shell",
            "command": "mise",
            "args": ["run", "sanitize"],
            "problemMatcher": ["$gcc"],
            "detail": "Build and test with ASan + UBSan"
        },
        {
            "label": "sanitize:tsan",
            "type": "shell",
            "command": "mise",
            "args": ["run", "sanitize:tsan"],
            "problemMatcher": ["$gcc"],
            "detail": "Build and test with ThreadSanitizer"
        },
        {
            "label": "cmake-configure (preset)",
            "type": "shell",
            "command": "cmake",
            "args": ["--preset", "dev-debug"],
            "problemMatcher": [],
            "detail": "Run CMake configure with dev-debug preset"
        }
    ]
}
